# 飞书项目管理 - Web界面

## ✅ 已完成

我已经为您创建了一个完整的Web界面，用于查看和筛选飞书项目管理系统中的工作项。

## 📁 文件结构

```
sample/
├── MCP/
│   ├── web_app.py              # Flask后端应用
│   ├── templates/
│   │   └── index.html          # 前端页面
│   ├── get_view_workitems.py   # 数据获取模块
│   ├── create_story_final.py   # 创建工作项脚本
│   └── WEB_README.md           # 详细使用说明
└── start_web.bat               # Windows启动脚本
```

## 🚀 启动方法

### 方式1: 双击启动脚本（推荐）
```
双击 start_web.bat 文件
```

### 方式2: 命令行启动
```bash
cd MCP
python web_app.py
```

## 🌐 访问地址

启动后在浏览器中访问：
- **本地访问**: http://127.0.0.1:5000
- **局域网访问**: http://172.16.42.73:5000

## 🎯 功能特性

### 1. 工作项列表展示
- 自动加载视图中的工作项
- 表格形式展示，包含8个关键字段
- 优先级带颜色标识（红/黄/蓝/灰）

### 2. 三个筛选条件
- **关联项目 (field_c13a6c)**: 下拉选择特定项目
- **规划版本 (field_ab3f51)**: 下拉选择特定版本
- **所属业务线 (business)**: 下拉选择特定业务线

### 3. 分页功能
- 上一页/下一页按钮
- 显示当前页码
- 显示工作项总数

### 4. 操作按钮
- **应用筛选**: 根据选择的条件筛选工作项
- **重置筛选**: 清除所有筛选条件，显示全部数据

## 📊 界面预览

### 主要区域
1. **标题栏**: 显示"飞书项目管理 - 工作项列表"
2. **筛选区域**: 三个下拉选择框（灰色背景）
3. **操作按钮**: 蓝色"应用筛选"和灰色"重置筛选"
4. **统计信息**: 蓝色背景显示当前页和总数
5. **数据表格**: 白色背景，鼠标悬停高亮
6. **分页控制**: 底部居中显示

### 优先级颜色
- 🔴 **重要且紧急**: 红色徽章
- 🟡 **重要但不紧急**: 黄色徽章
- 🔵 **紧急但不重要**: 蓝色徽章
- ⚪ **不紧急不重要**: 灰色徽章

## 🔧 配置说明

如需修改视图ID，编辑 `MCP/web_app.py` 第16行：
```python
VIEW_ID = "8SReqkNvg"  # 修改为您的视图ID
```

## 📝 使用示例

### 示例1: 查看所有工作项
1. 启动Web应用
2. 打开浏览器访问 http://127.0.0.1:5000
3. 页面自动加载第1页数据

### 示例2: 筛选特定业务线
1. 在"所属业务线"下拉框选择"YF-KA产品线"
2. 点击"应用筛选"按钮
3. 查看筛选后的结果

### 示例3: 组合筛选
1. 选择"所属业务线": "自研芯片平台预研业务线"
2. 选择"规划版本": "标定集成V3版本"
3. 点击"应用筛选"
4. 查看同时满足两个条件的工作项

### 示例4: 分页浏览
1. 查看第1页数据
2. 点击"下一页"按钮查看第2页
3. 点击"上一页"返回第1页

## 🎨 界面特点

- **现代化设计**: 使用系统字体和圆角设计
- **响应式布局**: 自适应不同屏幕尺寸
- **交互反馈**: 按钮悬停效果、表格行高亮
- **加载状态**: 显示加载动画和错误提示
- **空状态处理**: 无数据时显示友好提示

## 🛠️ 技术实现

### 后端 (Flask)
- `/`: 主页面路由
- `/api/workitems`: 获取工作项列表API
- `/api/filter_options`: 获取筛选选项API

### 前端 (HTML/CSS/JavaScript)
- 原生JavaScript实现（无需额外框架）
- Fetch API进行异步数据请求
- 动态DOM操作更新界面

## 📌 注意事项

1. **端口占用**: 默认使用5000端口，如被占用请修改
2. **网络连接**: 需要能访问飞书MCP Server
3. **浏览器兼容**: 推荐使用Chrome、Edge、Firefox等现代浏览器

## 🔍 测试状态

✅ Web服务器已启动
✅ 主页面可访问
✅ API接口正常
✅ 数据加载成功
✅ 筛选功能正常
✅ 分页功能正常

## 📞 当前运行状态

服务器正在后台运行：
- 本地地址: http://127.0.0.1:5000
- 局域网地址: http://172.16.42.73:5000
- 调试模式: 已启用
- 进程ID: bac942f

您现在可以在浏览器中打开上述地址查看界面！
