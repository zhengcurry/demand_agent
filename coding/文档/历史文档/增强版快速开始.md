# ğŸ¯ å¢å¼ºç‰ˆä»£ç ç”Ÿæˆå·¥ä½œæµ - å¿«é€Ÿå¼€å§‹

## æ–°å¢åŠŸèƒ½

ä½ çš„éœ€æ±‚å·²ç»å®ç°ï¼ç°åœ¨ç³»ç»Ÿæ”¯æŒï¼š

âœ… **åˆ†é˜¶æ®µæ‰§è¡Œ** - 6ä¸ªæ˜ç¡®çš„å¼€å‘é˜¶æ®µ
âœ… **è¯¦ç»†æŠ¥å‘Š** - æ¯ä¸ªé˜¶æ®µç”Ÿæˆç‹¬ç«‹çš„JSONæŠ¥å‘Š
âœ… **å®¡æ ¸æ£€æŸ¥ç‚¹** - æ”¯æŒäººå·¥å®¡æ ¸æˆ–è‡ªåŠ¨å®¡æ ¸
âœ… **æš‚åœ/æ¢å¤** - å¯åœ¨è®¾è®¡é˜¶æ®µåæš‚åœç­‰å¾…å®¡æ ¸
âœ… **å®Œæ•´è¿½è¸ª** - è¯¦ç»†çš„å·¥ä½œæµçŠ¶æ€å’Œè¿›åº¦è¿½è¸ª

## å·¥ä½œæµç¨‹å›¾

```
è¾“å…¥éœ€æ±‚
  â†“
ğŸ“‹ é˜¶æ®µ1: éœ€æ±‚åˆ†æ â†’ è¾“å‡ºæŠ¥å‘Š
  â†“
ğŸ—ï¸ é˜¶æ®µ2: æ¶æ„+APIè®¾è®¡ â†’ è¾“å‡ºæŠ¥å‘Š
  â†“
ğŸ” é˜¶æ®µ3: è®¾è®¡å®¡æ ¸ (å¯é€‰äººå·¥/è‡ªåŠ¨) â†’ è¾“å‡ºæŠ¥å‘Š
  â†“
ğŸ“ é˜¶æ®µ4: ä»»åŠ¡æ‹†è§£ â†’ è¾“å‡ºæŠ¥å‘Š
  â†“
ğŸ’» é˜¶æ®µ5: ä»£ç ç”Ÿæˆ â†’ è¾“å‡ºæŠ¥å‘Š
  â†“
âœ… é˜¶æ®µ6: ä»£ç å®¡æŸ¥ â†’ è¾“å‡ºæŠ¥å‘Š
  â†“
ğŸ“„ ç”Ÿæˆå®Œæ•´æŠ¥å‘Š
```

## å¿«é€Ÿæµ‹è¯•

### 1. éªŒè¯ç¯å¢ƒé…ç½®

```bash
cd coding
python test_system.py
```

### 2. è¿è¡Œå¿«é€Ÿæµ‹è¯•ï¼ˆç®€å•ç¤ºä¾‹ï¼‰

```bash
python test_enhanced_skill.py
```

è¿™ä¼šç”Ÿæˆä¸€ä¸ªè®¡ç®—å™¨APIï¼Œæ‰§è¡Œæ‰€æœ‰6ä¸ªé˜¶æ®µï¼Œå¹¶ç”Ÿæˆå®Œæ•´æŠ¥å‘Šã€‚

### 3. è¿è¡Œå®Œæ•´ç¤ºä¾‹ï¼ˆäº¤äº’å¼ï¼‰

```bash
python examples/example_enhanced_code_skill.py
```

é€‰æ‹©ä¸åŒçš„è¿è¡Œæ¨¡å¼ï¼š
- **é€‰é¡¹1**: å®Œå…¨è‡ªåŠ¨åŒ–ï¼ˆé€‚åˆå¿«é€ŸåŸå‹ï¼‰
- **é€‰é¡¹2**: äººå·¥å®¡æ ¸æ¨¡å¼ï¼ˆé€‚åˆç”Ÿäº§é¡¹ç›®ï¼‰
- **é€‰é¡¹3**: æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š

## ä½¿ç”¨æ–¹å¼

### æ–¹å¼1: å‘½ä»¤è¡Œä½¿ç”¨

#### å®Œå…¨è‡ªåŠ¨åŒ–æ¨¡å¼ï¼ˆæ¨èå¿«é€Ÿå¼€å‘ï¼‰

```bash
python main.py enhanced-code "å¼€å‘ä¸€ä¸ªç”¨æˆ·è®¤è¯ç³»ç»Ÿ" --review-mode auto
```

**ç‰¹ç‚¹**ï¼š
- ä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰6ä¸ªé˜¶æ®µ
- è‡ªåŠ¨å®¡æ ¸è®¾è®¡
- ç”Ÿæˆæ‰€æœ‰é˜¶æ®µæŠ¥å‘Š

#### äººå·¥å®¡æ ¸æ¨¡å¼ï¼ˆæ¨èç”Ÿäº§é¡¹ç›®ï¼‰

```bash
python main.py enhanced-code "å¼€å‘ä¸€ä¸ªæ”¯ä»˜ç³»ç»Ÿ" --review-mode manual --pause-for-review
```

**ç‰¹ç‚¹**ï¼š
- è®¾è®¡å®Œæˆåæš‚åœ
- ç­‰å¾…äººå·¥å®¡æ ¸æ¶æ„å’ŒAPIè®¾è®¡
- å®¡æ ¸é€šè¿‡åç»§ç»­åç»­é˜¶æ®µ

### æ–¹å¼2: Python APIä½¿ç”¨

#### å¿«é€ŸåŸå‹å¼€å‘

```python
from skills.enhanced_code_skill import EnhancedCodeSkill
import os

skill = EnhancedCodeSkill(
    api_key=os.getenv("ANTHROPIC_API_KEY"),
    project_path="./my_project"
)

result = skill.execute(
    requirement="ä½ çš„éœ€æ±‚æè¿°",
    review_mode="auto",          # è‡ªåŠ¨å®¡æ ¸
    pause_for_review=False       # ä¸æš‚åœ
)

if result["success"]:
    print(f"âœ… å®Œæˆ! è´¨é‡è¯„åˆ†: {result['final_score']}/100")
    print(f"ğŸ“ ç”Ÿæˆ {len(result['generated_files'])} ä¸ªæ–‡ä»¶")
    print(f"ğŸ“Š æŠ¥å‘Šç›®å½•: {project_path}/docs/")
```

#### ç”Ÿäº§é¡¹ç›®å¼€å‘

```python
result = skill.execute(
    requirement="å¼€å‘ä¸€ä¸ªå…³é”®ç³»ç»Ÿ",
    review_mode="manual",        # äººå·¥å®¡æ ¸
    pause_for_review=True        # è®¾è®¡åæš‚åœ
)

if result.get("status") == "paused_for_review":
    print("â¸ï¸  å·²æš‚åœï¼Œç­‰å¾…å®¡æ ¸")
    print(f"æ£€æŸ¥ç‚¹: {result['checkpoint_path']}")
    # å®¡æ ¸ docs/ ç›®å½•ä¸‹çš„è®¾è®¡æ–‡æ¡£
    # å®¡æ ¸é€šè¿‡åå¯ç»§ç»­æ‰§è¡Œ
```

## ç”Ÿæˆçš„æŠ¥å‘Š

æ‰€æœ‰æŠ¥å‘Šä¿å­˜åœ¨ `<project_path>/docs/` ç›®å½•ï¼š

### æ ¸å¿ƒæŠ¥å‘Š

1. **stage1_requirement_report.json** - éœ€æ±‚åˆ†æ
   - éœ€æ±‚ç±»å‹ã€å¤æ‚åº¦ã€é¢„ä¼°ä»»åŠ¡æ•°

2. **stage2_design_report.json** - æ¶æ„å’ŒAPIè®¾è®¡
   - ç»„ä»¶åˆ—è¡¨ã€æ•°æ®æ¨¡å‹ã€APIç«¯ç‚¹

3. **stage3_design_review_report.json** - è®¾è®¡å®¡æ ¸
   - å®¡æ ¸ç»“æœã€å‘ç°çš„é—®é¢˜ã€æ”¹è¿›å»ºè®®

4. **stage4_task_planning_report.json** - ä»»åŠ¡æ‹†è§£
   - è¯¦ç»†ä»»åŠ¡åˆ—è¡¨ã€ç±»å‹åˆ†å¸ƒã€ä¼˜å…ˆçº§

5. **stage5_code_generation_report.json** - ä»£ç ç”Ÿæˆ
   - ç”Ÿæˆçš„æ–‡ä»¶åˆ—è¡¨ã€æˆåŠŸç‡ç»Ÿè®¡

6. **stage6_code_review_report.json** - ä»£ç å®¡æŸ¥
   - ä»£ç è´¨é‡è¯„åˆ†ã€é—®é¢˜åˆ—è¡¨ã€æ”¹è¿›å»ºè®®

7. **complete_workflow_report.json** - å®Œæ•´å·¥ä½œæµæŠ¥å‘Š
   - æ‰€æœ‰é˜¶æ®µçš„æ±‡æ€»ä¿¡æ¯

### æŸ¥çœ‹æŠ¥å‘Š

```python
import json

# æŸ¥çœ‹éœ€æ±‚åˆ†ææŠ¥å‘Š
with open('docs/stage1_requirement_report.json') as f:
    report = json.load(f)
    print(f"éœ€æ±‚ç±»å‹: {report['summary']['requirement_type']}")
    print(f"å¤æ‚åº¦: {report['summary']['complexity']}")

# æŸ¥çœ‹ä»£ç è´¨é‡è¯„åˆ†
with open('docs/stage6_code_review_report.json') as f:
    report = json.load(f)
    print(f"ä»£ç è¯„åˆ†: {report['summary']['overall_score']}/100")
    print(f"è´¨é‡ç­‰çº§: {report['summary']['quality_level']}")
```

## è´¨é‡è¯„åˆ†æ ‡å‡†

- **90-100**: Excellent (ä¼˜ç§€) - ç”Ÿäº§å°±ç»ª
- **80-89**: Good (è‰¯å¥½) - å°å¹…æ”¹è¿›åå¯ç”¨
- **70-79**: Acceptable (å¯æ¥å—) - éœ€è¦ä¸€äº›æ”¹è¿›
- **60-69**: Needs Improvement (éœ€æ”¹è¿›) - æœ‰æ˜æ˜¾é—®é¢˜
- **<60**: Poor (è¾ƒå·®) - éœ€è¦é‡æ„

## å®æˆ˜åœºæ™¯

### åœºæ™¯1: å¿«é€ŸéªŒè¯æƒ³æ³•

```bash
python main.py enhanced-code "å¼€å‘ä¸€ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨" --review-mode auto
```

**ç”¨æ—¶**: çº¦3-5åˆ†é’Ÿ
**è¾“å‡º**: å®Œæ•´åº”ç”¨ + 6ä»½æŠ¥å‘Š

### åœºæ™¯2: å›¢é˜Ÿåä½œé¡¹ç›®

```bash
python main.py enhanced-code "å¼€å‘ç”µå•†åå°ç³»ç»Ÿ" --review-mode manual --pause-for-review
```

**æµç¨‹**:
1. ç³»ç»Ÿå®Œæˆéœ€æ±‚åˆ†æå’Œè®¾è®¡
2. æš‚åœï¼Œå›¢é˜Ÿå®¡æ ¸è®¾è®¡æ–‡æ¡£
3. ç¡®è®¤åç»§ç»­ç”Ÿæˆä»£ç 
4. è¾“å‡ºå®Œæ•´é¡¹ç›®å’ŒæŠ¥å‘Š

### åœºæ™¯3: å­¦ä¹ æœ€ä½³å®è·µ

```bash
python examples/example_enhanced_code_skill.py
# é€‰æ‹© "3" æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š
```

**æ”¶è·**: å­¦ä¹ ä»éœ€æ±‚åˆ°ä»£ç çš„å®Œæ•´æµç¨‹

## ç›®å½•ç»“æ„

```
my_project/
â”œâ”€â”€ src/                  # ç”Ÿæˆçš„æºä»£ç 
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ tests/                # ç”Ÿæˆçš„æµ‹è¯•ä»£ç 
â”‚   â””â”€â”€ test_*.py
â”œâ”€â”€ docs/                 # æ‰€æœ‰æŠ¥å‘Š
â”‚   â”œâ”€â”€ stage1_requirement_report.json
â”‚   â”œâ”€â”€ stage2_design_report.json
â”‚   â”œâ”€â”€ stage3_design_review_report.json
â”‚   â”œâ”€â”€ stage4_task_planning_report.json
â”‚   â”œâ”€â”€ stage5_code_generation_report.json
â”‚   â”œâ”€â”€ stage6_code_review_report.json
â”‚   â””â”€â”€ complete_workflow_report.json
â””â”€â”€ requirements.txt      # ä¾èµ–åˆ—è¡¨
```

## å¯¹æ¯”åŸç‰ˆ

| ç‰¹æ€§ | åŸç‰ˆ | å¢å¼ºç‰ˆ âœ¨ |
|------|------|---------|
| é˜¶æ®µæŠ¥å‘Š | ä»…æœ€ç»ˆ | æ¯é˜¶æ®µç‹¬ç«‹ |
| å®¡æ ¸æ£€æŸ¥ç‚¹ | æ—  | æ”¯æŒæš‚åœ |
| å®¡æ ¸æ¨¡å¼ | ä»…è‡ªåŠ¨ | è‡ªåŠ¨/äººå·¥ |
| è¿›åº¦è·Ÿè¸ª | åŸºæœ¬ | è¯¦ç»†è¿½è¸ª |
| æŠ¥å‘Šæ•°é‡ | 4ä¸ª | 7ä¸ª |
| å·¥ä½œæµæ§åˆ¶ | ä¸€æ¬¡æ€§ | å¯æš‚åœ/æ¢å¤ |

## è¯¦ç»†æ–‡æ¡£

- **å®Œæ•´æŒ‡å—**: [docs/ENHANCED_CODE_SKILL.md](docs/ENHANCED_CODE_SKILL.md)
- **APIæ–‡æ¡£**: [docs/API.md](docs/API.md)
- **ä½¿ç”¨ç¤ºä¾‹**: [examples/example_enhanced_code_skill.py](examples/example_enhanced_code_skill.py)

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æŸ¥çœ‹æ¯ä¸ªé˜¶æ®µçš„è¯¦ç»†è¾“å‡ºï¼Ÿ

A: æ‰€æœ‰æŠ¥å‘Šä¿å­˜åœ¨ `docs/` ç›®å½•ï¼Œä½¿ç”¨JSONæ ¼å¼ï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€æŸ¥çœ‹ã€‚

### Q: è®¾è®¡å®¡æ ¸ä¸é€šè¿‡æ€ä¹ˆåŠï¼Ÿ

A: æŸ¥çœ‹ `stage3_design_review_report.json`ï¼Œæ ¹æ®issuesåˆ—è¡¨ä¿®æ”¹éœ€æ±‚åé‡æ–°æ‰§è¡Œã€‚

### Q: å¯ä»¥è·³è¿‡æŸäº›é˜¶æ®µå—ï¼Ÿ

A: å½“å‰ç‰ˆæœ¬éœ€è¦å®Œæ•´æ‰§è¡Œï¼Œåç»­ç‰ˆæœ¬ä¼šæ”¯æŒé˜¶æ®µé€‰æ‹©ã€‚

### Q: æŠ¥å‘Šå¯ä»¥å¯¼å‡ºä¸ºPDFå—ï¼Ÿ

A: ç›®å‰æ˜¯JSONæ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·è½¬æ¢ä¸ºPDFæˆ–HTMLã€‚

## ä¸‹ä¸€æ­¥

1. **è¿è¡Œæµ‹è¯•**: `python test_enhanced_skill.py`
2. **å°è¯•ç¤ºä¾‹**: `python examples/example_enhanced_code_skill.py`
3. **å®é™…ä½¿ç”¨**: ç”¨çœŸå®éœ€æ±‚æµ‹è¯•ç³»ç»Ÿ
4. **æŸ¥çœ‹æŠ¥å‘Š**: åˆ†ææ¯ä¸ªé˜¶æ®µçš„è¾“å‡º

å¼€å§‹ä½ çš„æ™ºèƒ½å¼€å‘ä¹‹æ—…ï¼ğŸš€
